{% comment %}
<!--
    v1.00 _includes/navbar02.html

# COMMENTS Add comments
# DOCUMENTATION Add documentation

    include navbar02.html   collection = [object] (default site.posts)
                            theme = [string] (default site.data.theme.blog.default)

-->
{% endcomment %}

{% assign collection = site.data.navbar.[include.collection] %}
{% unless collection %}
{% assign collection = site.data.navbar.default %}
{% endunless %}

{% assign theme = site.data.theme.navbar.[include.theme] %}
{% unless theme %}
{% assign theme = site.data.theme.navbar.default %}
{% endunless %}

{% comment %}<!-- remove fixed-top to make it stick to top -->{% endcomment %}
<header id="navigation">
    <nav id="navbar02" class = "navbar navbar-expand-lg {{ theme.class.section }}" {% if theme.style.section %}style = "{{ theme.style.section }}"{% endif %}>
        <div class = "container-fluid" >
            {% if collection.url %}<a class="navbar-brand" href="{{ collection.url }}">{% endif %}
            {% if collection.title or collection.icon %}<span>{% endif %}
            {% if collection.icon %}<i class = "{{ collection.icon }} pr-1"></i>{% endif %}
            {% if collection.title %}{{ collection.title }}{% endif %}
            {% if collection.title or collection.icon %}</span>{% endif %}
            {% if collection.url %}</a>{% endif %}
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
          
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                {% for item in collection.navigation %}
                    {% if item.children %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="{{ item.url }}" id="navbarDropdownPortfolio" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" {% if item.excerpt %}{{ item.excerpt }}{% endif %} >{{ item.title }}</a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownPortfolio">
                                {% for child in item.children %}
                                    <a class="dropdown-item" href="{{ child.url }}" {% if item.excerpt %}{{ item.excerpt }}{% endif %}>{{ child.title }}</a>
                                {% endfor %}
                            </div>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{{ item.url }}">{{ item.title }}</a>
                        </li>
                    {% endif %}
                {% endfor %}
                </ul>
            </div>
    </div>
    </nav> 
{% comment %}
# BUG spacing is wrong this is a temp fix
{% endcomment %}
    <div style = "height:56px;"></div>
</header>

<script>
$( window ).scroll(function() {
if ($(window).scrollTop() == 0)
    $( "#navbar02" ).removeClass().addClass( "navbar navbar-expand-lg  {{ theme.class.section }}" ).removeAttr("style").attr("style","{{ theme.style.section }}");
else
    $( "#navbar02" ).removeClass().addClass( "navbar navbar-expand-lg  {{ theme.class.alternative }}" ).removeAttr("style").attr("style","{{ theme.style.alternative }}")     
});
</script>